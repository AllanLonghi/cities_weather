(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{25:function(e,t,a){e.exports=a(40)},30:function(e,t,a){},31:function(e,t,a){},36:function(e,t,a){},37:function(e,t,a){},38:function(e,t,a){},39:function(e,t,a){},40:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),r=a(22),i=a.n(r),l=(a(30),a(6)),o=a(7),s=a(9),u=a(8),m=a(10),d=a(2),h=(a(31),a(12)),p=function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement("table",{id:"cities"},c.a.createElement("thead",null,c.a.createElement("tr",null,c.a.createElement("th",null,"Cidade"),c.a.createElement("th",null,"C\xf3digo do Pais"),c.a.createElement("th",null,"Tempo"))),c.a.createElement("tbody",null,this.props.cities.map(function(e){return c.a.createElement("tr",{key:e.Id},c.a.createElement("td",null,e.Name),c.a.createElement("td",null,e.CountryCode),c.a.createElement("td",null,c.a.createElement(h.b,{to:{pathname:"/weather",state:{Name:e.Name,CountryCode:e.CountryCode}}},"Previs\xe3o")))}))))}}]),t}(c.a.Component),b=(a(36),a(14)),E=a.n(b),y="cb5ee795dd586d31a90c93f8fcfd8f56";function C(e,t,a){E.a.ajax({url:"https://api.openweathermap.org/data/2.5/forecast",method:"GET",dataType:"json",data:{q:e.Name+","+e.CountryCode,units:"metric",appid:y},success:function(e){t(e)},error:function(e){a(e)}})}var f=function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={Name:"",CountryCode:"",Error:""},e.onSubmit=e.onSubmit.bind(Object(d.a)(e)),e.callBackValidationFail=e.callBackValidationFail.bind(Object(d.a)(e)),e.callBackValidationSuccess=e.callBackValidationSuccess.bind(Object(d.a)(e)),e.callBackCitySubmitFail=e.callBackCitySubmitFail.bind(Object(d.a)(e)),e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"onSubmit",value:function(e){e.preventDefault(),C({Name:this.state.Name,CountryCode:this.state.CountryCode},this.callBackValidationSuccess,this.callBackValidationFail)}},{key:"callBackValidationSuccess",value:function(){var e,t,a;this.setState({Error:""}),e={Name:this.state.Name,CountryCode:this.state.CountryCode},t=this.props.callBackCitySubmit,a=this.callBackCitySubmitFail,E.a.ajax({url:"http://localhost:49985/api/Cities",contentType:"application/json",method:"POST",dataType:"json",data:JSON.stringify({Name:e.Name,CountryCode:e.CountryCode}),success:function(e){t(e)},error:function(e){a(e)}})}},{key:"callBackCitySubmitFail",value:function(){this.setState({Error:"N\xe3o foi possivel salvar cidade."})}},{key:"callBackValidationFail",value:function(e){this.setState({Error:"N\xe3o foi poss\xedvel cadastrar cidade: "+e.responseJSON.message})}},{key:"render",value:function(){var e=this;return c.a.createElement("div",{id:"formDiv"},c.a.createElement("form",{onSubmit:this.onSubmit,method:"post"},c.a.createElement("label",{htmlFor:"Name"},"Cidade"),c.a.createElement("input",{type:"text",id:"Name",name:"Name",value:this.state.Name,onChange:function(t){return e.setState({Name:t.target.value})}}),c.a.createElement("label",{htmlFor:"CountryCode"},"C\xf3digo ISO do Pais"),c.a.createElement("input",{placeholder:"ex: BRA ou BR",type:"text",id:"CountryCode",name:"CountryCode",value:this.state.CountryCode,onChange:function(t){return e.setState({CountryCode:t.target.value})}}),c.a.createElement("span",null),c.a.createElement("button",{type:"submit"},"Salvar"),c.a.createElement("br",null),c.a.createElement("span",{className:"err"}," ",this.state.Error," ")))}}]),t}(c.a.Component),v=(a(37),function(e){function t(){var e;return Object(l.a)(this,t),(e=Object(s.a)(this,Object(u.a)(t).call(this))).state={city:[],Error:""},e.CallBackCitySubmit=e.CallBackCitySubmit.bind(Object(d.a)(e)),e.CallBackSubmitError=e.CallBackSubmitError.bind(Object(d.a)(e)),e}return Object(m.a)(t,e),Object(o.a)(t,[{key:"CallBackSubmitError",value:function(e){this.setState({Error:"Sem conex\xe3o com API de cidades."})}},{key:"CallBackCitySubmit",value:function(e){this.setState({city:e,Error:""})}},{key:"componentDidMount",value:function(){var e,t;e=this.CallBackCitySubmit,t=this.CallBackSubmitError,E.a.ajax({url:"http://localhost:49985/api/Cities",contentType:"application/json",method:"GET",dataType:"json",success:function(t){e(t)},error:function(e){t(e)}})}},{key:"render",value:function(){return c.a.createElement("div",null,c.a.createElement(f,{callBackCitySubmit:this.CallBackCitySubmit}),c.a.createElement("br",null),c.a.createElement(p,{cities:this.state.city}),c.a.createElement("br",null),c.a.createElement("span",null,this.state.Error))}}]),t}(c.a.Component)),k=(a(38),a(11)),j=function(e){function t(e){var a;return Object(l.a)(this,t),(a=Object(s.a)(this,Object(u.a)(t).call(this,e))).Error={Message:"",cod:""},a.callBackSuccess=a.callBackSuccess.bind(Object(d.a)(a)),a.callBackFail=a.callBackFail.bind(Object(d.a)(a)),a.componentDidMount=a.componentDidMount.bind(Object(d.a)(a)),a}return Object(m.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){C(this.props.location.state,this.callBackSuccess,this.callBackFail)}},{key:"callBackSuccess",value:function(e){this.setState({weather:this.GetWeatherPerDay(e)})}},{key:"callBackFail",value:function(e){this.Error=e.responseJSON,this.forceUpdate()}},{key:"FormatDate",value:function(e){var t=new Date(e),a=t.getDate(),n=t.getMonth()+1,c=t.getFullYear();return n<"10"&&(n="0"+n),console.log(n),a+"/"+n+"/"+c}},{key:"GetWeatherPerDay",value:function(e){var t=[];return e.list.map(function(e){var a=new Date(e.dt_txt).getDay();t[a]||(t[a]=e)}),{list:t,city:e.city}}},{key:"capitalizeFirstLetter",value:function(e){return e.charAt(0).toUpperCase()+e.slice(1)}},{key:"render",value:function(){return this.state?c.a.createElement("div",{align:"center"},c.a.createElement("br",null),c.a.createElement("span",{className:"cityName"},this.state.weather.city.name," - ",this.state.weather.city.country," "),c.a.createElement("br",null),c.a.createElement("br",null),c.a.createElement("div",{className:"row"},this.state.weather.list.map(function(e){return c.a.createElement("div",{className:"column",key:e.dt},c.a.createElement("div",{className:"card"},c.a.createElement("span",{className:"date"},this.FormatDate(e.dt_txt)),c.a.createElement("span",{className:"temp_max"},"Max: ",e.main.temp_max,"\xb0"),c.a.createElement("span",{className:"temp_min"},"Min: ",e.main.temp_min,"\xb0"),c.a.createElement("span",{className:"conditions"},this.capitalizeFirstLetter(e.weather[0].description)),c.a.createElement("span",{className:"wind"},"Vento: ",e.wind.speed," KMH")))}.bind(this)))):this.Error.message?c.a.createElement("div",null,c.a.createElement("span",{className:"cityName"},"N\xe3o foi poss\xedvel carregar dados: ",this.Error.message)):c.a.createElement("div",null,c.a.createElement("span",{className:"cityName"},"Carregando dados"))}}]),t}(c.a.Component),S=Object(k.e)(j),N=(a(39),function(e){function t(){return Object(l.a)(this,t),Object(s.a)(this,Object(u.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return c.a.createElement(h.a,null,c.a.createElement("div",{className:"App"},c.a.createElement("div",{className:"topnav"},c.a.createElement(h.b,{className:"linkNav ",to:"/"},"Home")),c.a.createElement("br",null),c.a.createElement("header",{className:"App-header"},c.a.createElement(k.a,{path:"/",exact:!0,component:function(){return c.a.createElement(v,null)}}),c.a.createElement(k.a,{path:"/weather",render:function(){return c.a.createElement(S,e.props)}}))))}}]),t}(c.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(c.a.createElement(N,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[25,1,2]]]);
//# sourceMappingURL=main.b591253f.chunk.js.map